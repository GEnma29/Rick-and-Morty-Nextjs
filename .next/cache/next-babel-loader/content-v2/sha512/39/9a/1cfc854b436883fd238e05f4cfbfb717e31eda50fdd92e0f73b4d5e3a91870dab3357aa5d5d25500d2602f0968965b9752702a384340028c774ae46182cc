{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"C:/Users/PC1/Nextjs/node_modules/@babel/runtime/regenerator\";\nimport _toConsumableArray from \"C:/Users/PC1/Nextjs/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _asyncToGenerator from \"C:/Users/PC1/Nextjs/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"C:/Users/PC1/Nextjs/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\PC1\\\\Nextjs\\\\pages\\\\index.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { info } from 'autoprefixer';\nimport { React, useState, useEffect } from 'react';\nimport Header from '../components/Header';\nimport styles from './index.module.css';\nvar url1 = 'https://rickandmortyapi.com/api/character';\n\nvar HomePage = function HomePage(_ref) {\n  _s();\n\n  var data = _ref.data;\n  var _data$results = data.results,\n      ResultsDefault = _data$results === void 0 ? [] : _data$results;\n\n  var _useState = useState(ResultsDefault),\n      results = _useState[0],\n      ResultsUpdate = _useState[1];\n\n  var _useState2 = useState(_objectSpread(_objectSpread({}, info), {}, {\n    current: url1\n  })),\n      page = _useState2[0],\n      updatePage = _useState2[1];\n\n  var current = page.current;\n  useEffect(function () {\n    if (current === url1) return;\n\n    function request() {\n      return _request.apply(this, arguments);\n    }\n\n    function _request() {\n      _request = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var _nexData$info;\n\n        var res, nextData;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return fetch(current);\n\n              case 2:\n                res = _context.sent;\n                _context.next = 5;\n                return res.json();\n\n              case 5:\n                nextData = _context.sent;\n                updatePage(_objectSpread({\n                  current: current\n                }, nextData.info));\n\n                if ((_nexData$info = nexData.info) !== null && _nexData$info !== void 0 && _nexData$info.prev) {\n                  _context.next = 10;\n                  break;\n                }\n\n                ResultsUpdate(nextData.results);\n                return _context.abrupt(\"return\");\n\n              case 10:\n                ResultsUpdate(function (prev) {\n                  return [].concat(_toConsumableArray(prev), _toConsumableArray(nextResults));\n                });\n\n              case 11:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n      return _request.apply(this, arguments);\n    }\n\n    request();\n  }, [current]);\n\n  function handleLoadMore() {\n    updatePage(function (prev) {\n      return _objectSpread(_objectSpread({}, prev), {}, {\n        current: page === null || page === void 0 ? void 0 : page.next\n      });\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.Bodypage,\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.container,\n      children: [results.map(function (result) {\n        var id = result.id,\n            name = result.name,\n            image = result.image;\n        return /*#__PURE__*/_jsxDEV(\"li\", {\n          className: styles.card,\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: image,\n            alt: \"\".concat(name)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 29\n          }, _this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            children: name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 29\n          }, _this), /*#__PURE__*/_jsxDEV(\"p\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 29\n          }, _this)]\n        }, id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 27\n        }, _this);\n      }), (info === null || info === void 0 ? void 0 : info.next) && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"load-more\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"button\",\n          onClick: handleLoadMore,\n          children: \"Load More\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 13\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 11\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 9\n  }, _this);\n};\n\n_s(HomePage, \"D29f8eNk1XtO5H9Fd2cfMOjycgA=\");\n\n_c = HomePage;\nexport var __N_SSP = true;\nexport default HomePage;\n\nvar _c;\n\n$RefreshReg$(_c, \"HomePage\");","map":{"version":3,"sources":["C:/Users/PC1/Nextjs/pages/index.js"],"names":["info","React","useState","useEffect","Header","styles","url1","HomePage","data","results","ResultsDefault","ResultsUpdate","current","page","updatePage","request","fetch","res","json","nextData","nexData","prev","nextResults","handleLoadMore","next","Bodypage","container","map","result","id","name","image","card"],"mappings":"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","sourcesContent":["import { info } from 'autoprefixer'\r\nimport {React, useState, useEffect} from 'react'\r\nimport Header from '../components/Header'\r\nimport styles from './index.module.css'\r\nconst url1='https://rickandmortyapi.com/api/character'\r\n\r\nexport async function getServerSideProps(context) {\r\n    const res = await fetch(url1)\r\n    const data = await res.json()\r\n  \r\n    if (!data) {\r\n      return {\r\n        notFound: true,\r\n      }\r\n    }\r\n  \r\n    return {\r\n      props: {\r\n        data\r\n      }, // will be passed to the page component as props\r\n    }\r\n  }\r\nconst HomePage= ({ data }) => {\r\n    const {results: ResultsDefault = []} = data;\r\n    const [results, ResultsUpdate]= useState(ResultsDefault);\r\n    const [page, updatePage] = useState({\r\n      ...info,\r\n      current: url1\r\n    });\r\n    const {current} = page;\r\n    useEffect(() => {\r\n      if(current === url1) return;\r\n\r\n      async function request(){\r\n        const res= await fetch(current)\r\n        const nextData = await res.json();\r\n\r\n        updatePage({\r\n          current,\r\n          ...nextData.info\r\n        });\r\n        if ( !nexData.info?.prev) {\r\n          ResultsUpdate(nextData.results);\r\n          return;\r\n        }\r\n        ResultsUpdate(prev=>{\r\n          return[\r\n            ...prev,\r\n            ...nextResults\r\n          ]\r\n        });\r\n      }\r\n      request();\r\n    }, [current])\r\n\r\n    function handleLoadMore() {\r\n      updatePage(prev => {\r\n        return {\r\n          ...prev,\r\n          current: page?.next\r\n        }\r\n      });\r\n    }\r\n    return (\r\n        <div className={styles.Bodypage} >\r\n            <Header />\r\n            <div className={styles.container}>\r\n                {results.map(result=>{\r\n                    const {id, name, image, } = result;\r\n\r\n                    return(\r\n      \r\n                          <li key ={id} className={styles.card}>\r\n                            <img src={image} alt={`${name}`} />\r\n                            <h4>{name}</h4>\r\n                            <p></p>\r\n                            </li>\r\n                    )\r\n                })}\r\n           {info?.next && (\r\n          <p className=\"load-more\">\r\n            <button className=\"button\" onClick={handleLoadMore}>Load More</button>\r\n          </p>\r\n        )}\r\n            </div>\r\n\r\n  \r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default HomePage\r\n"]},"metadata":{},"sourceType":"module"}